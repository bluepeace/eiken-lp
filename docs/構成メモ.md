# AiKen LP 構成メモ

このドキュメントは、LP（aiken.life）のディレクトリ・ファイル構成と役割をまとめたメモです。

---

## 1. 全体構成

- **LP**: aiken.life（このリポジトリ）
- **アプリ**: app.aiken.life（別リポジトリ eiken-app）
- **技術**: PHP + Tailwind CDN。共通部品は `include` で組み立て。ビルド不要。

---

## 2. ディレクトリ・ファイル一覧

```
eiken-lp/
├── config.php                 # 共通設定・級データ・メタ用関数
├── index.php                  # TOP
├── grade.php                  # 級別入り口（?level=1kyu 等）
├── .htaccess                  # Rewrite（/1kyu/ → grade.php?level=1kyu）
├── README.md
├── docs/
│   ├── 構成メモ.md            # 本ファイル
│   ├── サイト概要・訴求ポイント.md  # コンセプト・ターゲット・マーケティング・訴求
│   └── 英検級別基礎情報.md    # 各級の出題形式・レベル・傾向・対策（LP・ブログの基礎情報）
├── includes/
│   ├── head.php               # <head>（メタ・canonical・OGP・CSS・JSON-LD）
│   ├── header.php             # 共通ヘッダー（ロゴ・ナビ）
│   ├── footer.php             # 共通フッター
│   ├── structured-data.php    # JSON-LD（WebApplication）
│   └── sections/
│       ├── hero.php           # TOP：ヒーロー（背景画像）
│       ├── trust_badges.php   # TOP：信頼バッジ（英検全級・4技能・AI添削・バディ・無料）
│       ├── intro.php          # TOP：英検のメリット・AiKenでできること（SEO・画像付き）
│       ├── problems.php       # TOP：悩み
│       ├── features.php      # TOP：できること（4技能・単語・面接など）
│       ├── target.php        # TOP：おすすめの人（小中学生・中高生・社会人）
│       ├── grade_links.php   # TOP：級別ページへのリンク一覧
│       ├── benefits.php      # TOP：オールインワン・復習・バディの訴求
│       ├── howto.php         # TOP：はじめ方
│       ├── faq.php           # TOP：よくある質問
│       ├── cta.php           # TOP：最終CTA
│       ├── grade_hero.php    # 級ページ：ヒーロー
│       ├── grade_features.php # 級ページ：できること（4・5級は一部非表示）
│       └── grade_cta.php    # 級ページ：CTA
└── assets/
    ├── css/
    │   └── style.css
    └── images/
        └── logo-aiken.png    # 要コピー（eiken-app/public/ から）
```

---

## 3. ページとURL

| 種類 | URL | 実体 |
|------|-----|------|
| TOP | `/` | index.php |
| 英検1級＋AI対策 | `/1kyu/` | grade.php?level=1kyu |
| 英検準1級＋AI対策 | `/jun1kyu/` | grade.php?level=jun1kyu |
| 英検2級＋AI対策 | `/2kyu/` | grade.php?level=2kyu |
| 英検準2級＋AI対策 | `/jun2kyu/` | grade.php?level=jun2kyu |
| 英検3級＋AI対策 | `/3kyu/` | grade.php?level=3kyu |
| 英検4級＋AI対策 | `/4kyu/` | grade.php?level=4kyu |
| 英検5級＋AI対策 | `/5kyu/` | grade.php?level=5kyu |

---

## 4. config.php の主な定義

| 定数・変数 | 用途 |
|------------|------|
| SITE_NAME, SITE_READING, SITE_DESCRIPTION | サイト名・読み・説明 |
| SITE_URL, APP_URL | LP / アプリのURL |
| BRAND_COLOR | キーカラー（#50c2cb） |
| $PAGE_META | TOP など通常ページの title / description |
| $GRADES | 級別の name, name_short, description（級ページのメタ・表示に使用） |

**主な関数**

- `get_page_meta($page)` … 通常ページのメタ取得
- `get_grade_meta($level)` … 級ページのメタ取得（title = 「英検〇級＋AI対策 | AiKen」）
- `get_grade($level)` … 級データ取得
- `grade_url($level)` … 級ページの正規URL
- `asset($path)` … 静的ファイルの絶対URL

---

## 5. ページの組み立て方

**TOP（index.php）**

1. `$page = 'top'`, `$canonical` を設定
2. `config.php` → `header.php` → 各 section（hero → trust_badges → intro → problems → features → target → grade_links → benefits → howto → faq → cta）→ `footer.php`

**級ページ（grade.php）**

1. `$_GET['level']` を検証し、`$GRADES` に無ければ TOP へリダイレクト
2. `$grade = $level`, `$page = 'grade'`, `$canonical = grade_url($grade)` を設定
3. `config.php` → `header.php` → grade_hero → grade_features → grade_cta → `footer.php`

**head.php のメタ**

- `$grade` がセットされていれば `get_grade_meta($grade)` で title / description を出力
- それ以外は `get_page_meta($page)` を使用

---

## 6. 級ページの表示の違い

- **3級〜1級・準1級・準2級**: 単語・リーディング・ライティング（AI添削）・リスニング・スピーキング・学習提案を表示
- **4級・5級**: ライティング・リスニング・スピーキングは非表示（単語・リーディング・学習提案のみ）。`grade_features.php` 内で `$grade` により出し分け

---

## 7. 画像について

- **hero**：薄い背景画像（Unsplash: 学習・勉強のイメージ）。差し替え可能。
- **intro**：人物が勉強している画像（Unsplash）。差し替え可能。
- **target**：ターゲット別のアバター画像（Unsplash: 学生・社会人のイメージ）。差し替え可能。
- **お客様の声**：2026年3月プレオープンで収集した声を、今後掲載する想定。画像は自社で用意。

※Unsplash の画像は無料で利用可能。自社写真やイラストに差し替える場合は、各セクションの `img src` を変更するか、`assets/images/` に置いてパスを更新してください。

---

## 8. 運用メモ

- 文言・説明文の変更は `config.php` の `$GRADES` または `$PAGE_META` を編集
- 新規級を追加する場合: `$GRADES` に追加し、`.htaccess` の RewriteRule の括弧内にスラッグを追加
- ローカルで Rewrite が効かない場合は `grade.php?level=1kyu` のようにアクセス
